{"version":3,"file":"static/js/655.5ce12d38.chunk.js","mappings":"8PAiCA,IACA,EAAe,IAA0B,0DCjCzC,EAA4B,gCAA5B,EAAmE,2BAAnE,EAAoG,0BAApG,EAAqI,2BAArI,EAAwK,4BAAxK,EAA6M,6BAA7M,EAAiP,2BAAjP,EAAmR,2BAAnR,EAAoT,0BAApT,EAAqV,2B,kBC+FrV,EArFqB,WAAO,IAAD,IACzB,GAA0BA,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,MAE3DC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAe,mCAAG,oGACDC,MAAM,GAAD,OAXpB,qCAWoB,YACdV,EADc,oBAZhB,mCAYgB,oBADJ,cAClBW,EADkB,gBAILA,EAASC,OAJJ,OAItBD,EAJsB,OAKtBZ,EAASY,GALa,2CAAH,qDAQrBF,GACD,GAAE,CAACT,IAEJ,IAAwBa,EAgBxB,OACE,iBAAKC,UAAWC,EAAhB,WACE,UAAC,KAAD,CAAMC,GAAIZ,EAAoBa,QAASH,UAAWC,EAAlD,WACE,gBAAKG,IAAKC,EAAKC,IAAI,aAAaN,UAAWC,IAD7C,aAICjB,GACC,iBAAKgB,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,WACE,gBACED,UAAWC,EACXG,IACEpB,EAAMuB,YAAN,UAhDA,oCAgDA,OAAiCvB,EAAMuB,aAAgBC,EAEzDF,IAAKtB,EAAMyB,SAEb,4BACE,gBAAIT,UAAWC,EAAf,UACGjB,EAAMyB,MADT,MAjCYV,EAkCqBf,EAAM0B,aAjC5CX,EAGa,IAAIY,KAAKZ,GACRa,cAHV,QA+BC,QAGA,eAAGZ,UAAWC,EAAd,0BACqC,GAArBjB,EAAM6B,cAAmBC,QAAQ,GADjD,QAGA,sCACA,cAAGd,UAAWC,EAAd,SAAyBjB,EAAM+B,YAC/B,oCACA,cAAGf,UAAWC,EAAd,SAlCM,SAACe,GACjB,IAAIC,EAAM,GAIV,OAHAD,EAAOE,KAAI,SAACC,GACV,OAAOF,EAAIG,KAAKD,EAAME,KACvB,IACMJ,EAAIK,KAAK,KACjB,CA4BoCC,CAAUvC,EAAMgC,iBAG7C,iBAAKhB,UAAWC,EAAhB,WACE,oDACA,gBAAID,UAAWC,EAAf,WACE,yBACE,SAAC,KAAD,CAAMC,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,8BAIN,SAAC,EAAAsB,SAAD,CAAUC,UAAU,SAACC,EAAA,QAAD,IAApB,UACE,SAAC,KAAD,UAIJ,SAACA,EAAA,QAAD,MAIP,C,0GC9FD,SAASC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,KAInB,CAHE,MAAOC,GAEP,YADAP,EAAOO,EAET,CAEIF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,EAEvC,CAEe,SAASS,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMc,EAAGK,MAAMJ,EAAME,GAEzB,SAASd,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,EAClE,CAEA,SAASJ,EAAOgB,GACdrB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASgB,EACnE,CAEAjB,OAAMkB,EACR,GACF,CACF,C","sources":["img/arrow.svg","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"arrow-left2\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.586 27.414l-10-10c-0.781-0.781-0.781-2.047 0-2.828l10-10c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-6.586 6.586h19.172c1.105 0 2 0.895 2 2s-0.895 2-2 2h-19.172l6.586 6.586c0.39 0.39 0.586 0.902 0.586 1.414s-0.195 1.024-0.586 1.414c-0.781 0.781-2.047 0.781-2.828 0z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrow);\nexport default __webpack_public_path__ + \"static/media/arrow.aab4f4cb76b5866cac53aba872eaf928.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__Ys+c9\",\"back\":\"MovieDetails_back__Jj+0O\",\"svg\":\"MovieDetails_svg__HtHcO\",\"info\":\"MovieDetails_info__qv2SI\",\"descr\":\"MovieDetails_descr__4U2CA\",\"poster\":\"MovieDetails_poster__yO7gD\",\"name\":\"MovieDetails_name__LW6-I\",\"text\":\"MovieDetails_text__RHcc4\",\"add\":\"MovieDetails_add__NApQY\",\"adds\":\"MovieDetails_adds__tKMNA\"};","import { useParams, Link, Outlet, useLocation } from \"react-router-dom\";\nimport { useEffect, useState, Suspense, useRef } from \"react\";\nimport Loader from \"components/Loader/Loader\";\nimport svg from \"img/arrow.svg\";\nimport css from \"pages/MovieDetails/MovieDetails.module.css\";\nimport noImage from \"img/noimage.jpeg\";\n\nconst API_KEY = \"7962a1912dc39a09e22d58ae0351b8bc\";\nconst URL = \"https://api.themoviedb.org/3/movie\";\nconst IMG_URL = \"https://image.tmdb.org/t/p/w300/\";\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? \"/\");\n\n  useEffect(() => {\n    const getMovieDetails = async () => {\n      let response = await fetch(\n        `${URL}/${movieId}?api_key=${API_KEY}&language=en-US`\n      );\n      response = await response.json();\n      setMovie(response);\n    };\n\n    getMovieDetails();\n  }, [movieId]);\n\n  const getReleaseYear = (releaseDate) => {\n    if (!releaseDate) {\n      return \"????\";\n    }\n    let releaseYear = new Date(releaseDate);\n    return releaseYear.getFullYear();\n  };\n\n  const getGenres = (genres) => {\n    let arr = [];\n    genres.map((genre) => {\n      return arr.push(genre.name);\n    });\n    return arr.join(\", \");\n  };\n\n  return (\n    <div className={css.container}>\n      <Link to={backLinkLocationRef.current} className={css.back}>\n        <img src={svg} alt=\"arrow-left\" className={css.svg} />\n        Go back\n      </Link>\n      {movie ? (\n        <div className={css.info}>\n          <div className={css.descr}>\n            <img\n              className={css.poster}\n              src={\n                movie.poster_path ? `${IMG_URL}${movie.poster_path}` : noImage\n              }\n              alt={movie.title}\n            ></img>\n            <div>\n              <h2 className={css.name}>\n                {movie.title} ({getReleaseYear(movie.release_date)})\n              </h2>\n              <p className={css.text}>\n                User Score: {(movie.vote_average * 10).toFixed(0)}%\n              </p>\n              <h3>Overview</h3>\n              <p className={css.text}>{movie.overview}</p>\n              <h3>Genres</h3>\n              <p className={css.text}>{getGenres(movie.genres)}</p>\n            </div>\n          </div>\n          <div className={css.add}>\n            <h3>Additional Information</h3>\n            <ul className={css.adds}>\n              <li>\n                <Link to=\"cast\">Cast</Link>\n              </li>\n              <li>\n                <Link to=\"reviews\">Reviews</Link>\n              </li>\n            </ul>\n          </div>\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </div>\n      ) : (\n        <Loader />\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["useState","movie","setMovie","movieId","useParams","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","getMovieDetails","fetch","response","json","releaseDate","className","css","to","current","src","svg","alt","poster_path","noImage","title","release_date","Date","getFullYear","vote_average","toFixed","overview","genres","arr","map","genre","push","name","join","getGenres","Suspense","fallback","Loader","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}