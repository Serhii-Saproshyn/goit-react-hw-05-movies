{"version":3,"file":"static/js/111.8f3bbda3.chunk.js","mappings":"4OACA,EAA4B,0BAA5B,EAA6D,qBAA7D,EAAkG,8BAAlG,EAA+I,6BAA/I,EAAoL,sB,SCApL,EAAuB,yBAAvB,EAAwD,0BAAxD,EAAyF,yB,kBCiCzF,EA5BmB,SAAC,GAAgB,IAAdA,EAAa,EAAbA,OACdC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,eAAIC,UAAWC,EAAf,SACGJ,EAAOK,KAAI,SAAAC,GACV,OACE,eAAmBH,UAAWC,EAA9B,UACE,UAAC,KAAD,CACEG,GAAE,kBAAaD,EAAME,IACrBC,MAAO,CAAEC,KAAMT,GACfE,UAAWC,EAHb,WAKE,gBACEO,IACEL,EAAMM,YAAN,UAjBF,oCAiBE,OAAiCN,EAAMM,aAAgBC,EAEzDC,IAAKR,EAAMS,QAEZT,EAAMS,UAZFT,EAAME,GAgBlB,KAGN,ECsCD,EA9De,WAAO,IAAD,EACnB,GAAwCQ,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAwCC,EAAAA,EAAAA,YAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAU,UAAGL,EAAaM,IAAI,YAApB,QAA4B,GAC5C,GAA4BJ,EAAAA,EAAAA,UAAwB,KAAfG,EAAoBA,EAAa,IAAtE,eAAOE,EAAP,KAAeC,EAAf,MAEAC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAGA,IAAMG,EAAe,mCAAG,oGACDC,MAAM,GAAD,OAbpB,4CAaoB,oBAdhB,mCAcgB,iCAC0BJ,EAD1B,gCADJ,cAClBK,EADkB,gBAILA,EAASC,OAJJ,OAItBD,EAJsB,OAKtBR,EAAgBQ,EAASE,SALH,2CAAH,qDAOrBJ,IAAkBK,MAAMC,QAAQC,MAR/B,CASF,GAAE,CAACV,IAaJ,OACE,4BACE,gBAAKrB,UAAWC,EAAhB,UACE,kBAAMD,UAAWC,EAAU+B,SARZ,SAAAC,GACnBA,EAAEC,iBACFZ,EAAUH,EACX,EAKK,WACE,mBAAQgB,KAAK,SAASnC,UAAWC,EAAjC,UACE,iBAAMD,UAAWC,OAGnB,kBACED,UAAWC,EACXmC,SArBe,SAAAC,GACF,KAArBA,EAAIC,OAAOC,MACPxB,EAAgB,CAAC,GACjBA,EAAgB,CAAEyB,EAAGH,EAAIC,OAAOC,OACrC,EAkBSA,MAAOpB,EACPgB,KAAK,OACLM,aAAa,MACbC,WAAS,EACTC,YAAY,uBAIlB,8BACG1B,GAAgBA,EAAa2B,OAAS,IACrC,SAAC,EAAD,CAAY/C,OAAQoB,MAGvBA,GAAwC,IAAxBA,EAAa2B,SAC5B,4EAIP,C,0GCpED,SAASC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBb,EAAQc,EAAKd,KAInB,CAHE,MAAOR,GAEP,YADAiB,EAAOjB,EAET,CAEIsB,EAAKC,KACPP,EAAQR,GAERgB,QAAQR,QAAQR,GAAOiB,KAAKP,EAAOC,EAEvC,CAEe,SAASO,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUR,EAASC,GACpC,IAAIF,EAAMY,EAAGK,MAAMJ,EAAME,GAEzB,SAASZ,EAAMV,GACbM,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQX,EAClE,CAEA,SAASW,EAAOc,GACdnB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASc,EACnE,CAEAf,OAAMgB,EACR,GACF,CACF,C","sources":["webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","components/Movies/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Movies_searchbar__uTZk4\",\"form\":\"Movies_form__mp42q\",\"search-button\":\"Movies_search-button__jN1dG\",\"button-label\":\"Movies_button-label__2TtdQ\",\"input\":\"Movies_input__OE3ef\"};","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\",\"movie\":\"MoviesList_movie__gS8QL\",\"link\":\"MoviesList_link__8rTGX\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from 'components/MoviesList/MoviesList.module.css';\nimport noImage from 'img/noimage.jpeg';\n\nconst IMG_URL = 'https://image.tmdb.org/t/p/w300/';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul className={css.list}>\n      {movies.map(movie => {\n        return (\n          <li key={movie.id} className={css.movie}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n              className={css.link}\n            >\n              <img\n                src={\n                  movie.poster_path ? `${IMG_URL}${movie.poster_path}` : noImage\n                }\n                alt={movie.title}\n              ></img>\n              {movie.title}\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport css from 'components/Movies/Movies.module.css';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nconst API_KEY = 'db09f9e57e28be6797f7d8ba986a8c6d';\nconst URL = 'https://api.themoviedb.org/3/search/movie';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchResult, setSearchResult] = useState();\n  const queryValue = searchParams.get('q') ?? '';\n  const [search, setSearch] = useState(queryValue !== '' ? queryValue : '');\n\n  useEffect(() => {\n    if (!search) {\n      return;\n    }\n    const getQueryResults = async () => {\n      let response = await fetch(\n        `${URL}?api_key=${API_KEY}&language=en-US&query=${search}&page=1&include_adult=false`\n      );\n      response = await response.json();\n      setSearchResult(response.results);\n    };\n    getQueryResults().catch(console.error);\n  }, [search]);\n\n  const updateQueryEntry = evt => {\n    evt.target.value === ''\n      ? setSearchParams({})\n      : setSearchParams({ q: evt.target.value });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearch(queryValue);\n  };\n\n  return (\n    <div>\n      <div className={css.searchbar}>\n        <form className={css.form} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={css['search-button']}>\n            <span className={css['button-label']}></span>\n          </button>\n\n          <input\n            className={css.input}\n            onChange={updateQueryEntry}\n            value={queryValue}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movie\"\n          />\n        </form>\n      </div>\n      <>\n        {searchResult && searchResult.length > 0 && (\n          <MoviesList movies={searchResult} />\n        )}\n      </>\n      {searchResult && searchResult.length === 0 && (\n        <p>Sorry we didn`t found movies for you`r request</p>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["movies","location","useLocation","className","css","map","movie","to","id","state","from","src","poster_path","noImage","alt","title","useSearchParams","searchParams","setSearchParams","useState","searchResult","setSearchResult","queryValue","get","search","setSearch","useEffect","getQueryResults","fetch","response","json","results","catch","console","error","onSubmit","e","preventDefault","type","onChange","evt","target","value","q","autoComplete","autoFocus","placeholder","length","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}